<html><head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
  <link rel="stylesheet" href="bootstrap.min.css">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap">
  <script src="https://kit.fontawesome.com/1e36e2dfe7.js" crossorigin="anonymous"></script>
  <script src="jquery.min.js"></script>
  <script src="bootstrap.min.js"></script>
  <script src="highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="fuse.min.js"></script>
  <script src="dox2web.js"></script>
  <title>Visionary Render Programming Guide: New in 2019.3</title>
</head>
<body><a class="main-logo" href="https://www.virtalis.com" target="_blank" rel="noopener noreferrer"></a>
<nav class="navbar navbar-inverse navbar-fixed-top navbar-lower" role="navigation">
  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-nav-contents" aria-expanded="false">
    <span class="sr-only">Toggle navigation</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <div class="collapse navbar-collapse" id="bs-nav-contents"><ul class="nav navbar-nav" id="main-menu">
    <li><a href="index.html">Overview</a></li>
    <li><a href="pages.html">Contents</a></li>
    <li><a href="modules.html">API</a></li>
  </ul>
</nav>
<div class="shove"><div class="container-fluid"><div class="col-sm-10 col-sm-push-2 main"><nav aria-label = "breadcrumb"><ol class="breadcrumb forward-slash"><li class = "breadcrumb-item "><a href = "index.html">Overview</a></li><li class = "breadcrumb-item"><a href="changes.html">Changelog</a></li><li class = "breadcrumb-item active">New in 2019.3</li></ol></nav><h1>New in 2019.3</h1><p>This page lists changes in version 2019.3 affecting user-facing APIs. Current C API is now 1.10</p><p><ul><li><p>VRRemoveCallback Ex variants added, this allows you to remove callbacks specific to a piece of user data.</p></li></ul></p><p><div id="frag_vZwccEpP0sI2"><ul class="nav nav-pills"><li class="active"><a href="#CvZwccEpP0sI2">C</a></li><li><a href="#CxxvZwccEpP0sI2">C++</a></li></ul><div class="tab-content"><div id="CvZwccEpP0sI2" class="tab-pane active"><pre><code>typedef struct MyManager_
{
  uint32_t property;
  void (*translate)(<a href="group__api__types.html#1ga3c71423354ddfdf4e557ebb3ac0e572e" title="A handle to a VRTree node">HNode</a> vrNode, const char* text);
} MyManager;
void onValuesChanged(<a href="group__api__types.html#1ga3c71423354ddfdf4e557ebb3ac0e572e" title="A handle to a VRTree node">HNode</a> node, void* userData)
{
  MyManager* manager = (MyManager*)userData;
  size_t length = <a href="group__api__properties.html#1ga06f25470a98ec84510936b212e58de9d" title="Gets the required size of a buffer to pass to VRGetPropertyValue In the case of string properties, returns the length of the string including null terminator">VRGetPropertyValueSizeEx</a>(node, manager-&gt;property);
  auto text = (char*)malloc(length);
  <a href="group__api__properties.html#1gabf775cad5a3e3774b27f48749e77d467" title="Gets a STRING property from a node">VRGetPropertyStringEx</a>(node, manager-&gt;property, text, length);
  if(manager-&gt;translate &amp;&amp; length &gt; 0)
    manager-&gt;translate(node, text);
  free(text);
}

void init(const char* metaName, MyManager* manager)
{
  <a href="group__api__observer.html#1gac9462e4b0bafe412eb98fcff55075076" title="Registers a function to be called whenever a node is modified">VRAddCallbackNodeValuesChanged</a>(metaName, &amp;onValuesChanged, manager);
}
void release(const char* metaName, MyManager* manager)
{
  <a href="group__api__observer.html#1ga49ae1e8e649a6d377a967d21988f19a5" title="Unregisters a function called whenever a node is modified">VRRemoveCallbackNodeValuesChangedEx</a>(metaName, &amp;onValuesChanged, manager);
}
</code></pre></div>
<div id="CxxvZwccEpP0sI2" class="tab-pane"><pre><code>using namespace <a href="namespacevrtree.html" title="">vrtree</a>;
using namespace <a href="namespacevrtree__cpp.html" title="Namespace containing a collection of helper functions for simplifying reading of C++ objects out of the C API (e">vrtree_cpp</a>;

struct MyManager2
  : public <a href="classvrtree__cpp_1_1_node_manager.html" title="Utility class providing an interface for responding to changes to specified metanodes; with an additional update function, which will be called every time a frame is drawn">NodeManager</a>
{
  MyManager2()
  {
    registerObserver(Meta_MetaDataString::Name());
    registerUpdateable();
  }
  ~MyManager2()
  {
    unRegisterObserver(Meta_MetaDataString::Name());
    unRegisterUpdateable();
  }
  void update(double deltaTime) override
  {
    //TODO: do stuff every step
  }
  void nodeValuesChanged(<a href="structvrtree__cpp_1_1_h_type_r.html" title="Reference counted wrapper around a handle">HNodeR</a>&amp; node) override
  {
    //TODO: respond to stuff
  }
  // More functions avaliable to override in NodeManager class...
}
</code></pre></div>
</div></div><ul><li><p>The <a href="group__api__lua.html#1ga630a9c30dd658de3adbdee2db4648b00" title="Performs a geometry operation">vrGeometryOp()</a> lua function now supports further operations<ul><li><p>optimise</p></li><li><p>split</p></li><li><p>explode</p></li><li><p>prune</p></li><li><p>sieve</p></li><li><p>recentre</p></li><li><p>transform</p></li><li><p>merge</p></li></ul></p></li><li><p>Corrects documentation for lua api functions:<ul><li><p>::vrEnableWhenIrayAvailable</p></li><li><p>::vrClusterMasterNode</p></li><li><p><a href="group__api__lua.html#1ga2e0410eab63b740427c227e3c908f2ec" title="Suppresses all modal dialogue message boxes">vrHideModalDialogues</a></p></li><li><p><a href="group__api__lua.html#1ga90afe04f38d47bd2e3f0c68f848208fc" title="Launches a command or application asynchronously">vrLaunchProcess</a></p></li><li><p><a href="group__api__lua.html#1gab153977f4d683510674d3e3a45a125d6" title="Return a frustum projection matrix">vrMat4Frustum</a></p></li><li><p><a href="group__api__lua.html#1gaf10906f3a7e8efcb61d89db490291ba6" title="Return an orthographic projection matrix">vrMat4Ortho</a></p></li><li><p><a href="group__api__lua.html#1gaea0a1d9f0d60dac2f9854558263416e2" title="Return a 2D orthographic projection matrix">vrMat4Ortho2D</a></p></li><li><p><a href="group__api__lua.html#1gac5b6d7befa831714bdb568ea8aa26f43" title="Captures the transform of a node, overwriting any existing saved transform">vrNodeCaptureTransform</a></p></li><li><p><a href="group__api__lua.html#1gadbc36c7384c6421f0afbdb786da99a2c" title="Queries whether or not this node's last modification was made by the local visionary render instance">vrNodeGetLocallyModified</a></p></li><li><p><a href="group__api__lua.html#1gab5f90863ace5808757853cafbcfff911" title="Create Nodes under user tree to indicate when progress events are occuring">vrProgressEvents</a></p></li><li><p><a href="group__api__lua.html#1gaf1f67abd0282ed12c46d70e31121cf44" title="Sets the Enabled state of a named Tool">vrSetToolEnabled</a></p></li><li><p><a href="group__api__lua.html#1gaab760a4daaba6e6bb656c190e4c23f35" title="Sets the tracked eye to the specified node">vrSetTrackedEyeNode</a></p></li><li><p><a href="group__api__lua.html#1ga13a89adb4c0a885d46ffd918e093df37" title="Sets the tracked hand to the specified node">vrSetTrackedHandNode</a></p></li><li><p><a href="group__api__lua.html#1gab9befe35073ca5ba102c1380c82b9fe7" title="Pops up the application property editor for the specified view selection">vrShowNodeProperties</a></p></li><li><p><a href="group__api__lua.html#1gae7e76cfbea5347bd26a7a569eb483ac2" title="Toggles the Enabled state of a named Tool">vrToggleToolEnabled</a></p></li><li><p><a href="group__api__lua.html#1gacfb4b652507ab1362715ecac42612264" title="Selects or deselects all nodes between the specified node and the last selected node without affecting the rest of the selection">vrTreeControlRangeSelect</a></p></li><li><p><a href="group__api__lua.html#1ga4b1d5d770036fa214af786d3202e226c" title="Selects all nodes between the specified node and the last selected node">vrTreeRangeSelect</a></p></li><li><p><a href="group__api__lua.html#1gab5863d793b8bad2c3cc2cf646d31f7f1" title="Selects the specified node in the specified view (or any view if nil)">vrTreeSelect</a></p></li><li><p><a href="group__api__lua.html#1ga39dde1a1f04baced3e7ced1141a001dc" title="INTERNAL">vrWitnessSetMaterial</a></p></li></ul></p></li><li><p>Adds C API function <a href="group__api__properties.html#1ga607be6d8228e698bc6d1b84d8b2f4f00" title="Gets a reusable property handle from a metanode name">VRGetPropertyEx()</a> which lets you get the property index from a metanode name and property name. </p></li></ul></p><hr/><div class="row footer-nav footer-links"><div class="col-sm-4"><p><span class="fas fa-arrow-circle-left" aria-hidden="true"></span>&nbsp;<a href="v2019_3_to_v2020_1.html">New in 2020.1</a></p></div><div class="col-sm-4 col-sm-offset-4"><p class="pull-right"><a href="v22_to_v2019_2.html">New in 2019.2</a>&nbsp;<span class="fas fa-arrow-circle-right" aria-hidden="true"></span></p></div></div></div><div class="col-sm-2 col-sm-pull-10 "><div class="main-search"><form id="docs-search" autocomplete="off" class="form-horizontal" accept-charset="utf-8"><div class="input-group text-border"><input name="srch-term" id="srch-term" class="form-control" type="text" placeholder="Search"></div></form></div><div id="searchResults"><div class="list-group"><p class="list-group-item">No Results.</p></div></div><div class="list-group list-group-root"><span class="list-group-item"><a href="#side_getting_started" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="getting_started.html">Getting Started</a></span><div class="list-group collapse" id="side_getting_started"><span class="list-group-item"><a href="applua_intro.html">Using the Script Editor</a></span><span class="list-group-item"><a href="eventlua_intro.html">Using the Script Event System</a></span><span class="list-group-item"><a href="luaplugin_intro.html">Creating a Lua Plugin</a></span><span class="list-group-item"><a href="plugin_intro.html">Creating a Native Plugin</a></span><span class="list-group-item"><a href="plugin_wrangle_api.html">Accessing the API</a></span></div><span class="list-group-item"><a href="#side_architecture" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="architecture.html">Architecture</a></span><div class="list-group collapse" id="side_architecture"><span class="list-group-item"><a href="api_diagram.html">API Diagram</a></span><span class="list-group-item"><a href="metanodes.html">Metanodes</a></span><span class="list-group-item"><a href="properties.html">Properties</a></span><span class="list-group-item"><a href="nodes.html">Nodes</a></span><span class="list-group-item"><a href="observers.html">Observers</a></span><span class="list-group-item"><a href="scenegraph.html">Scene Graph</a></span><span class="list-group-item"><a href="plugin_directories.html">Plugin Search Paths</a></span></div><span class="list-group-item"><a href="best_practices.html">Best Practices</a></span><span class="list-group-item"><a href="#side_howto" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="howto.html">How To</a></span><div class="list-group collapse" id="side_howto"><span class="list-group-item"><a href="#side_howto_lua" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="howto_lua.html">Scripts</a></span><div class="list-group collapse" id="side_howto_lua"><span class="list-group-item"><a href="lua_assembly_howto.html">Work with Assembly Nodes</a></span><span class="list-group-item"><a href="lua_visual_howto.html">Work with Visual Nodes</a></span><span class="list-group-item"><a href="lua_light_howto.html">Work with Light Nodes</a></span><span class="list-group-item"><a href="lua_material_howto.html">Work with Material Nodes</a></span><span class="list-group-item"><a href="lua_lodgeo_howto.html">Work with Level of Detail and GeoGroup Nodes</a></span><span class="list-group-item"><a href="lua_sequence_howto.html">Work with Sequence Nodes</a></span><span class="list-group-item"><a href="lua_audio_howto.html">Work with Audio Nodes</a></span><span class="list-group-item"><a href="lua_video_howto.html">Work with Movie Nodes</a></span><span class="list-group-item"><a href="lua_metadata_howto.html">Work with Metadata and Attribute Nodes</a></span><span class="list-group-item"><a href="lua_settings_howto.html">Work with Settings Nodes</a></span><span class="list-group-item"><a href="lua_observers_howto.html">Work with Observers</a></span></div><span class="list-group-item"><a href="#side_howto_plugins" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="howto_plugins.html">Plugins</a></span><div class="list-group collapse" id="side_howto_plugins"><span class="list-group-item"><a href="importer_howto.html">Provide a Data Importer</a></span><span class="list-group-item"><a href="exporter_howto.html">Provide a Data Exporter</a></span><span class="list-group-item"><a href="context_menu_howto.html">Add a Context Menu</a></span><span class="list-group-item"><a href="ffi_howto.html">Use the Foreign Function Interface (FFI)</a></span><span class="list-group-item"><a href="luafunc_howto.html">Provide a Lua Function</a></span><span class="list-group-item"><a href="define_metanode_howto.html">Define a Custom MetaNode</a></span><span class="list-group-item"><a href="update_howto.html">Implement an Update Function</a></span><span class="list-group-item"><a href="observer_howto.html">Implement an Observer</a></span><span class="list-group-item"><a href="logging_howto.html">Write to the Application Log</a></span><span class="list-group-item"><a href="dialog_howto.html">Present a Modal Dialog</a></span><span class="list-group-item"><a href="progress_howto.html">Update the Loading Screen</a></span></div></div><span class="list-group-item"><a href="#side_advanced" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="advanced.html">Advanced Topics</a></span><div class="list-group collapse" id="side_advanced"><span class="list-group-item"><a href="advanced_appcommands.html">Application Commands</a></span><span class="list-group-item"><a href="advanced_semantics.html">Semantics</a></span><span class="list-group-item"><a href="advanced_metanode_versioning.html">Metanode Versioning</a></span><span class="list-group-item"><a href="dynamic_loading.html">Enabling/Disabling Plugins at Runtime</a></span><span class="list-group-item"><a href="lua_coroutines.html">Coroutines in Lua Plugins</a></span><span class="list-group-item"><a href="lua_odbc.html">Using LuaSQL for ODBC Connections</a></span><span class="list-group-item"><a href="lua_com.html">Reference External Data Using the COM</a></span><span class="list-group-item"><a href="terminating_long_scripts.html">Terminating Long Scripts</a></span><span class="list-group-item"><a href="plugin_depends.html">Plugin Dependencies</a></span><span class="list-group-item"><a href="surface_shader_intro.html">Writing Surface Shaders</a></span><span class="list-group-item"><a href="view_shader_intro.html">Writing View Shaders</a></span></div><span class="list-group-item show-path"><a href="#side_changes" data-toggle="collapse"><i class="fas fa-minus-square list-toggle"></i></a><a href="changes.html">Changelog</a></span><div class="list-group collapse in" id="side_changes"><span class="list-group-item"><a href="v2023_2_to_v2024_1.html">New in 2024.1</a></span><span class="list-group-item"><a href="v2023_1_to_v2023_2.html">New in 2023.2</a></span><span class="list-group-item"><a href="v2021_2_to_v2021_3.html">New in 2021.3</a></span><span class="list-group-item"><a href="v2021_1_to_v2021_2.html">New in 2021.2</a></span><span class="list-group-item"><a href="v2020_2_to_v2021_1.html">New in 2021.1</a></span><span class="list-group-item"><a href="v2020_1_to_v2020_2.html">New in 2020.2</a></span><span class="list-group-item"><a href="v2019_3_to_v2020_1.html">New in 2020.1</a></span><span class="list-group-item show-path"><a href="v2019_2_to_v2019_3.html">New in 2019.3</a></span><span class="list-group-item"><a href="v22_to_v2019_2.html">New in 2019.2</a></span><span class="list-group-item"><a href="v21_to_v22.html">New in 2.2.0</a></span><span class="list-group-item"><a href="v20_to_v21.html">New in 2.1.0</a></span><span class="list-group-item"><a href="#side_v13x_to_v2" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="v13x_to_v2.html">New in 2.0.0</a></span><div class="list-group collapse" id="side_v13x_to_v2"><span class="list-group-item"><a href="v13x_200_pivots.html">Pivot API Changes</a></span><span class="list-group-item"><a href="v13x_200_lua_co.html">Lua Event Coroutines</a></span><span class="list-group-item"><a href="v13x_200_lua_observers.html">Lua Observers</a></span></div></div><span class="list-group-item"><a href="namespacevrtree.html">vrtree</a></span><span class="list-group-item"><a href="namespacevrtree__cpp.html">vrtree_cpp</a></span><span class="list-group-item"><a href="namespacevt_core.html">vtCore</a></span><span class="list-group-item"><a href="group__api__core.html">Core</a></span><span class="list-group-item"><a href="group__api__ffi.html">Foreign Function Interface</a></span><span class="list-group-item"><a href="#side_group__api__metanodes" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="group__api__metanodes.html">Metanodes</a></span><div class="list-group collapse" id="side_group__api__metanodes"><span class="list-group-item"><a href="group__api__metanodes__general.html">General</a></span><span class="list-group-item"><a href="group__api__metanodes__properties.html">Properties</a></span><span class="list-group-item"><a href="group__api__metanodes__semantics.html">Semantics and Hints</a></span><span class="list-group-item"><a href="group__api__metadefs.html">Metanode Structure Definitions</a></span></div><span class="list-group-item"><a href="group__api__migrations.html">Migrations</a></span><span class="list-group-item"><a href="group__api__observer.html">Observers</a></span><span class="list-group-item"><a href="group__api__properties.html">Properties</a></span><span class="list-group-item"><a href="group__api__settings.html">Settings</a></span><span class="list-group-item"><a href="group__api__tree.html">Tree</a></span><span class="list-group-item"><a href="group__api__utils.html">Utilities</a></span><span class="list-group-item"><a href="#side_group__api__defs" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="group__api__defs.html">API Definitions</a></span><div class="list-group collapse" id="side_group__api__defs"><span class="list-group-item"><a href="group__api__types.html">Types</a></span><span class="list-group-item"><a href="group__api__proto.html">Function Prototypes</a></span><span class="list-group-item"><a href="group__api__flags.html">Flags</a></span><span class="list-group-item"><a href="group__api__io__flags.html">Save/Load Tree I/O Flags</a></span><span class="list-group-item"><a href="group__api__builder__flags.html">Build Filter flags</a></span><span class="list-group-item"><a href="group__api__loggingmask.html">Logging masks</a></span><span class="list-group-item"><a href="group__api__errors.html">Error codes</a></span></div><span class="list-group-item"><a href="group__api__exchange.html">VR Exchange</a></span><span class="list-group-item"><a href="#side_group__api__plugins" data-toggle="collapse"><i class="fas fa-plus-square list-toggle"></i></a><a href="group__api__plugins.html">Plugins</a></span><div class="list-group collapse" id="side_group__api__plugins"><span class="list-group-item"><a href="group__api__plugin__interface.html">Plugin Interface</a></span><span class="list-group-item"><a href="group__api__plugin__utils.html">Plugin Utilities</a></span></div><span class="list-group-item"><a href="group__api__lua.html">Lua API</a></span></div></div>
</div></div></body></html>